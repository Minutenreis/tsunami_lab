import matplotlib.pyplot as plt
import numpy as np

# Data for plotting
threads = range(1,73)
times1 = [34.1963, 22.5628, 15.0145, 12.29, 9.27764, 9.15781, 6.9417, 7.2712, 5.54379, 6.31567, 4.79914, 5.37322, 4.03977, 5.03707, 4.07594, 4.725, 4.1198, 4.1977, 3.99221, 3.93709, 4.27721, 3.75294, 4.04035, 4.07471, 4.20402, 3.52276, 3.75348, 3.64381, 3.54348, 3.96246, 3.44557, 3.17751, 3.26532, 3.02241, 3.89188, 3.56316, 3.88059, 3.58148, 3.711, 3.72611, 3.69902, 3.53333, 3.45341, 3.35592, 3.7532, 3.78971, 3.47188, 3.74699, 3.69682, 3.69558, 3.40065, 3.57311, 3.58509, 3.45186, 3.59196, 3.43525, 3.51705, 3.44009, 3.35659, 3.5886, 3.55952, 3.51142, 3.2369, 3.49928, 3.71425, 3.61493, 3.66501, 3.62783, 3.82914, 3.3439, 3.89864, 5.63512]
times2 = [32.2386, 21.8238, 14.8981, 11.4078, 9.31997, 8.90487, 6.98744, 7.35236, 5.70788, 6.14843, 4.64647, 5.37629, 4.13333, 5.13619, 4.02305, 4.66247, 4.26155, 4.26434, 4.21845, 4.16134, 3.94634, 4.02624, 4.21941, 4.20128, 3.6914, 3.71855, 3.7698, 3.2957, 4.09418, 3.86007, 3.79782, 3.99887, 4.01925, 3.03142, 3.54268, 3.69717, 3.74882, 3.76925, 3.81368, 3.68777, 3.83242, 3.6404, 3.47791, 3.74965, 3.71128, 3.5645, 3.71398, 3.78103, 3.75276, 3.62194, 3.65746, 3.66005, 3.44778, 3.70048, 3.53042, 3.41126, 3.62641, 3.56435, 3.45482, 3.482, 3.43548, 3.3038, 3.42184, 3.5823, 3.68966, 3.46739, 3.65713, 3.78747, 3.48452, 3.4646, 3.74459, 3.55212]
times3 = [32.2476, 22.2868, 14.8348, 12.4585, 9.47114, 9.08008, 7.03187, 7.41934, 5.73846, 6.152, 4.79937, 5.63061, 4.181, 4.98204, 4.17434, 4.60824, 4.1076, 4.36289, 4.1124, 4.06333, 4.16607, 4.0802, 3.95091, 4.20127, 4.01824, 4.21908, 3.72493, 4.03774, 3.50971, 3.44758, 3.83697, 3.87306, 3.49316, 3.85882, 3.71238, 3.64674, 3.80798, 3.61855, 3.74494, 3.71256, 3.73043, 3.63936, 3.70434, 3.84439, 3.66189, 3.6461, 3.69234, 3.69189, 3.64249, 3.66959, 3.69052, 3.72129, 3.55346, 3.64347, 3.68322, 3.54685, 3.39622, 3.5392, 3.41577, 3.63172, 3.74794, 3.65099, 3.39428, 3.46129, 3.66911, 3.71363, 3.2911, 3.52364, 3.86736, 3.83112, 3.71757, 6.65353]
times = [(time1+time2+time3)/3 for time1,time2,time3 in zip(times1,times2,times3)]
Speedup = [times[0]/time for time in times]
Efficiency = [speedup/thread for speedup,thread in zip(Speedup,threads)]

max = np.argmax(Speedup)
print("Maximum speedup: ", Speedup[max], "with ", threads[max], "threads")

plt.plot(threads, Speedup, 'o-')
plt.title('Speedup')
plt.xlabel('Number of threads')
plt.ylabel('Sp')
ax = plt.gca()
ax.set_ylim(ymin=0)
ax.set_xlim(xmin=0, xmax=72)
plt.savefig('speedup.png')
plt.clf()
plt.plot(threads, Efficiency, 'o-')
plt.title('Efficiency')
plt.xlabel('Number of threads')
plt.ylabel('Sp/p')
ax = plt.gca()
ax.set_ylim(ymin=0,ymax=1)
ax.set_xlim(xmin=0,xmax=72)
plt.savefig('efficiency.png')

